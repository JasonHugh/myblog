<html>
<head>
	<meta charset="UTF-8">
	<title>安排车辆</title>
	<link href="../assets/css/dpl-min.css" rel="stylesheet" type="text/css" />
	<link href="../assets/css/bui-min.css" rel="stylesheet" type="text/css" />
  	<link href="../css/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<h1>安排车辆</h1>
	<h2>用车企业：野驴户外运动俱乐部<span style='margin-left:80px'>联系人：徐枫   133********</span></h2>
	<h2>人数：30人</h2>
	<h2>行程计划：</h2>
	<div id="grid" style="margin-top:10px"></div>
	<h2>车辆：</h2>
	<div id="grid1" style="margin-top:10px"></div>
	<h2><a href='waitArrange.html' class="button">完成</a></h2>
  <div id="content" class="hide">
      <form id="J_Form" class="form-horizontal">
        <div class="row">
          <div class="control-group span8">
            <label class="control-label"><s>*</s>车辆：</label>
            <div class="controls">
              <select  data-rules="{required:true}"  name="name" class="input-normal"> 
                <option value="金龙">金龙</option>
                <option value="宇通">宇通</option>
              </select>
            </div>
          </div>
          <div class="control-group span8">
            <label class="control-label"><s>*</s>司机：</label>
            <div class="controls">
              <select  data-rules="{required:true}"  name="custom" class="input-normal"> 
                <option value="张荣全 13852961539">张荣全 13852961539</option>
                <option value="周健东 13852961539">周健东 13852961539</option>
              </select>
            </div>
          </div>
        </div><div class="row">
          <div class="control-group span8">
            <label class="control-label"><s>*</s>客位数：</label>
            <div class="controls">
              <input name="day" value='37' type="text" class="input-normal control-text">
            </div>
          </div>
          <div class="control-group span8">
            <label class="control-label"><s>*</s>车牌号：</label>
            <div class="controls">
              <input name="address" value='浙AM502K' type="text" class="input-normal control-text">
            </div>
          </div>
        </div>
      </form>
    </div>
</body>
<script type="text/javascript" src="../assets/js/jquery-1.8.1.min.js"></script>
<script type="text/javascript" src="../assets/js/bui-min.js"></script>
<script type="text/javascript" src="../assets/js/config-min.js"></script>
<script type="text/javascript">
BUI.use('common/page');
BUI.use('bui/grid',function (Grid) {
    var data = [{name:'2015/9/16 8:00',day:'杭州市/西湖国际大厦',address:'绍兴市/咸亨酒店',custom:'100km'},{name:'2015/9/15 12:00',day:'绍兴市/咸亨酒店',address:'绍兴市/沈园',custom:'20km'},{name:'2015/9/15 18:00',day:'绍兴市/国际酒店',address:'杭州市/西湖国际大厦',custom:'120km'},{address:'总计里程：',custom:'240km'}]
 
        grid = new Grid.SimpleGrid({
          render : '#grid', //显示Grid到此处
          columns : [
            {title:'出发日期/时间',dataIndex:'name',width:110},
            {title:'出发城市/地点',dataIndex:'day',width:150},
            {title:'到达城市/地点',dataIndex:'address',width:150},
			{title:'里程数',dataIndex:'custom',width:50}
          ]
        });
      grid.render();
      grid.showData(data);
  });
BUI.use(['bui/grid','bui/data'],function (Grid,Data) {

    var columns = [
            {title:'车型',dataIndex:'name',width:50},
            {title:'客位数',dataIndex:'day',width:30},
            {title:'车牌号',dataIndex:'address',width:70},
      {title:'司机',dataIndex:'custom',width:100},
            {title:'从业资格证',dataIndex:'cong',width:80},
      {title:'道路经营许可证',dataIndex:'rood',width:80}
          ],
      //默认的数据
      data = [
        {name:'金龙',day:'37',address:'浙AM502K',custom:'张希忠 13852961539',cong:'*********',rood:'*********'}
      ],
      store = new Data.Store({
        data:data
      }),
      editing = new Grid.Plugins.DialogEditing({
        contentId : 'content',
        triggerCls : 'btn-edit'
      }),
      grid = new Grid.Grid({
        render : '#grid1',
        columns : columns,
        forceFit : true,
        store : store,
        plugins : [Grid.Plugins.CheckSelection,editing],
        tbar:{
          items : [{
            btnCls : 'button button-small',
            text : '<i class="icon-plus"></i>添加',
            listeners : {
              'click' : addFunction
            }
          },
          {
            btnCls : 'button button-small',
            text : '<i class="icon-remove"></i>删除',
            listeners : {
              'click' : delFunction
            }
          }]
        }

      });
    grid.render();

    function addFunction(){
      var newData = {day :'37',address:'浙AM502K'};
      editing.add(newData); //添加记录后，直接编辑
    }

    function delFunction(){
      var selections = grid.getSelection();
      store.remove(selections);
    }
    var logEl = $('#log');
    $('#btnSave').on('click',function(){

      var records = store.getResult();
      logEl.text(BUI.JSON.stringify(records));
    });
});
</script>
</html>